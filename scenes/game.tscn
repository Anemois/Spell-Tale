[gd_scene load_steps=8 format=4 uid="uid://bp1th31aar6d4"]

[ext_resource type="Script" uid="uid://bsnb8032mibp5" path="res://scripts/game.gd" id="1_lnu2h"]
[ext_resource type="PackedScene" uid="uid://baeupmwvx1kib" path="res://scenes/player.tscn" id="2_lnu2h"]
[ext_resource type="Texture2D" uid="uid://bb5uogctpos7y" path="res://resources/maps/icon.png" id="2_yqjtg"]
[ext_resource type="Script" uid="uid://cpv6d2vojbwjl" path="res://scenes/esc_menu.gd" id="3_iywne"]
[ext_resource type="Texture2D" uid="uid://bj7l18fpqbdkv" path="res://resources/maps/map1.png" id="3_lbhrr"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lnu2h"]
texture = ExtResource("2_yqjtg")
texture_region_size = Vector2i(8, 8)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)

[sub_resource type="TileSet" id="TileSet_lbhrr"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_lnu2h")

[node name="Game" type="Node2D"]
script = ExtResource("1_lnu2h")
player_scene = ExtResource("2_lnu2h")

[node name="UI" type="CanvasLayer" parent="."]

[node name="ESCMenu" type="PanelContainer" parent="UI"]
visible = false
custom_minimum_size = Vector2(300, 500)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -150.0
offset_top = -250.0
offset_right = 150.0
offset_bottom = 250.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_iywne")

[node name="VBoxContainer" type="VBoxContainer" parent="UI/ESCMenu"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_constants/separation = 30

[node name="seperator" type="Control" parent="UI/ESCMenu/VBoxContainer"]
layout_mode = 2

[node name="MenuTitle" type="Label" parent="UI/ESCMenu/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 40
text = "Menu"
horizontal_alignment = 1
vertical_alignment = 1

[node name="seperator2" type="Control" parent="UI/ESCMenu/VBoxContainer"]
layout_mode = 2

[node name="ContinueButton" type="Button" parent="UI/ESCMenu/VBoxContainer"]
custom_minimum_size = Vector2(200, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "Continue"

[node name="seperator3" type="Control" parent="UI/ESCMenu/VBoxContainer"]
layout_mode = 2

[node name="SettingButton" type="Button" parent="UI/ESCMenu/VBoxContainer"]
custom_minimum_size = Vector2(200, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "Setting
"

[node name="seperator4" type="Control" parent="UI/ESCMenu/VBoxContainer"]
layout_mode = 2

[node name="LeaveButton" type="Button" parent="UI/ESCMenu/VBoxContainer"]
custom_minimum_size = Vector2(200, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "Leave"

[node name="Multiplayer" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Multiplayer"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -134.5
offset_top = -46.5
offset_right = 134.5
offset_bottom = 46.5
grow_horizontal = 2
grow_vertical = 2

[node name="Title" type="Label" parent="UI/Multiplayer/VBoxContainer"]
layout_mode = 2
text = "Testing"
horizontal_alignment = 1

[node name="Host" type="Button" parent="UI/Multiplayer/VBoxContainer"]
layout_mode = 2
text = "Host"

[node name="Join" type="Button" parent="UI/Multiplayer/VBoxContainer"]
layout_mode = 2
text = "Join"

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://baeupmwvx1kib")
spawn_path = NodePath("..")

[node name="Map1" type="Sprite2D" parent="."]
position = Vector2(511, -126)
texture = ExtResource("3_lbhrr")

[node name="Map2" type="Sprite2D" parent="."]
position = Vector2(-513, -126)
texture = ExtResource("3_lbhrr")
flip_h = true

[node name="Level" type="TileMapLayer" parent="."]
position = Vector2(-1, 0)
tile_map_data = PackedByteArray("AADx/+v/AAAAAAAAAADx/+z/AAAAAAAAAADx/+3/AAAAAAAAAADy/+v/AAAAAAAAAADy/+z/AAAAAAAAAADy/+3/AAAAAAAAAADz/+v/AAAAAAAAAADz/+z/AAAAAAAAAADz/+3/AAAAAAAAAAD0/+v/AAAAAAAAAAD0/+z/AAAAAAAAAAD0/+3/AAAAAAAAAAD1/+v/AAAAAAAAAAD1/+z/AAAAAAAAAAD1/+3/AAAAAAAAAAD2/+v/AAAAAAAAAAD2/+z/AAAAAAAAAAD2/+3/AAAAAAAAAAD3/+v/AAAAAAAAAAD3/+z/AAAAAAAAAAD3/+3/AAAAAAAAAAD4/+v/AAAAAAAAAAD4/+z/AAAAAAAAAAD4/+3/AAAAAAAAAAD5/+v/AAAAAAAAAAD5/+z/AAAAAAAAAAD5/+3/AAAAAAAAAAD6/+v/AAAAAAAAAAD6/+z/AAAAAAAAAAD6/+3/AAAAAAAAAAD7/+v/AAAAAAAAAAD7/+z/AAAAAAAAAAD7/+3/AAAAAAAAAAD8/+v/AAAAAAAAAAD8/+z/AAAAAAAAAAD8/+3/AAAAAAAAAAD9/+v/AAAAAAAAAAD9/+z/AAAAAAAAAAD9/+3/AAAAAAAAAAD+/+v/AAAAAAAAAAD+/+z/AAAAAAAAAAD+/+3/AAAAAAAAAAD//+v/AAAAAAAAAAD//+z/AAAAAAAAAAD//+3/AAAAAAAAAAAAAOv/AAAAAAAAAAAAAOz/AAAAAAAAAAAAAO3/AAAAAAAAAAABAOv/AAAAAAAAAAABAOz/AAAAAAAAAAABAO3/AAAAAAAAAAACAOv/AAAAAAAAAAACAOz/AAAAAAAAAAACAO3/AAAAAAAAAAADAOv/AAAAAAAAAAADAOz/AAAAAAAAAAADAO3/AAAAAAAAAAAEAOv/AAAAAAAAAAAEAOz/AAAAAAAAAAAEAO3/AAAAAAAAAAAFAOv/AAAAAAAAAAAFAOz/AAAAAAAAAAAFAO3/AAAAAAAAAAAGAOv/AAAAAAAAAAAGAOz/AAAAAAAAAAAGAO3/AAAAAAAAAAAHAOv/AAAAAAAAAAAHAOz/AAAAAAAAAAAHAO3/AAAAAAAAAAAIAOv/AAAAAAAAAAAIAOz/AAAAAAAAAAAIAO3/AAAAAAAAAAAJAOv/AAAAAAAAAAAJAOz/AAAAAAAAAAAJAO3/AAAAAAAA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AAAhAPb/AAAAAAAAAAAhAPf/AAAAAAAAAAAOAO7/AAAAAAAAAAAOAO//AAAAAAAAAAAOAPD/AAAAAAAAAAAOAPH/AAAAAAAAAAAPAPH/AAAAAAAAAAAQAPH/AAAAAAAAAADx/+7/AAAAAAAAAADx/+//AAAAAAAAAADx//D/AAAAAAAAAADx//H/AAAAAAAAAADf//H/AAAAAAAAAADf//L/AAAAAAAAAADg//H/AAAAAAAAAADg//L/AAAAAAAAAADh//H/AAAAAAAAAADh//L/AAAAAAAAAADi//H/AAAAAAAAAADi//L/AAAAAAAAAADj//H/AAAAAAAAAADj//L/AAAAAAAAAADk//H/AAAAAAAAAADk//L/AAAAAAAAAADl//H/AAAAAAAAAADl//L/AAAAAAAAAADm//H/AAAAAAAAAADm//L/AAAAAAAAAADn//H/AAAAAAAAAADn//L/AAAAAAAAAADo//H/AAAAAAAAAADo//L/AAAAAAAAAADp//H/AAAAAAAAAADp//L/AAAAAAAAAADq//H/AAAAAAAAAADq//L/AAAAAAAAAADr//H/AAAAAAAAAADr//L/AAAAAAAAAADs//H/AAAAAAAAAADs//L/AAAAAAAAAADt//H/AAAAAAAAAADt//L/AAAAAAAAAADu//H/AAAAAAAAAADu//L/AAAAAAAAAADv//H/AAAAAAAAAADv//L/AAAAAAAAAADw//H/AAAAAAAAAADw//L/AAAAAAAAAADx//L/AAAAAAAAAADf//P/AAAAAAAAAADf//T/AAAAAAAAAADf//X/AAAAAAAAAADf//b/AAAAAAAAAADf//f/AAAAAAAAAACj//f/AAAAAAAAAACk//f/AAAAAAAAAACl//f/AAAAAAAAAACm//f/AAAAAAAAAACn//f/AAAAAAAAAACo//f/AAAAAAAAAACp//f/AAAAAAAAAACq//f/AAAAAAAAAACr//f/AAAAAAAAAACs//f/AAAAAAAAAACt//f/AAAAAAAAAACu//f/AAAAAAAAAACv//f/AAAAAAAAAACw//f/AAAAAAAAAACx//f/AAAAAAAAAACy//f/AAAAAAAAAACz//f/AAAAAAAAAAC0//f/AAAAAAAAAAC1//f/AAAAAAAAAAC2//f/AAAAAAAAAAC3//f/AAAAAAAAAAC4//f/AAAAAAAAAAC5//f/AAAAAAAAAAC6//f/AAAAAAAAAAC7//f/AAAAAAAAAAC8//f/AAAAAAAAAAC9//f/AAAAAAAAAAC+//f/AAAAAAAAAAC///f/AAAAAAAAAADA//f/AAAAAAAAAADB//f/AAAAAAAAAADC//f/AAAAAAAAAADD//f/AAAAAAAAAADE//f/AAAAAAAAAADF//f/AAAAAAAAAADG//f/AAAAAAAAAADH//f/AAAAAAAAAADI//f/AAAAAAAAAADJ//f/AAAAAAAAAADK//f/AAAAAAAAAADL//f/AAAAAAAAAADM//f/AAAAAAAAAADN//f/AAAAAAAAAADO//f/AAAAAAAAAADP//f/AAAAAAAAAADQ//f/AAAAAAAAAADR//f/AAAAAAAAAADS//f/AAAAAAAAAADT//f/AAAAAAAAAADU//f/AAAAAAAAAADV//f/AAAAAAAAAADW//f/AAAAAAAAAADX//f/AAAAAAAAAADY//f/AAAAAAAAAADZ//f/AAAAAAAAAADa//f/AAAAAAAAAADb//f/AAAAAAAAAADc//f/AAAAAAAAAADd//f/AAAAAAAAAADe//f/AAAAAAAAAACR//f/AAAAAAAAAACS//f/AAAAAAAAAACT//f/AAAAAAAAAACU//f/AAAAAAAAAACV//f/AAAAAAAAAACW//f/AAAAAAAAAACX//f/AAAAAAAAAACY//f/AAAAAAAAAACZ//f/AAAAAAAAAACa//f/AAAAAAAAAACb//f/AAAAAAAAAACc//f/AAAAAAAAAACd//f/AAAAAAAAAACe//f/AAAAAAAAAACf//f/AAAAAAAAAACg//f/AAAAAAAAAACh//f/AAAAAAAAAACi//f/AAAAAAAAAACR//P/AAAAAAAAAACR//T/AAAAAAAAAACR//X/AAAAAAAAAACR//b/AAAAAAAAAACA//P/AAAAAAAAAACB//P/AAAAAAAAAACC//P/AAAAAAAAAACD//P/AAAAAAAAAACE//P/AAAAAAAAAACF//P/AAAAAAAAAACG//P/AAAAAAAAAACH//P/AAAAAAAAAACI//P/AAAAAAAAAACJ//P/AAAAAAAAAACK//P/AAAAAAAAAACL//P/AAAAAAAAAACM//P/AAAAAAAAAACN//P/AAAAAAAAAACO//P/AAAAAAAAAACP//P/AAAAAAAAAACQ//P/AAAAAAAAAAA=")
tile_set = SubResource("TileSet_lbhrr")

[node name="SpwnPoint" type="Marker2D" parent="Level"]
position = Vector2(649, -228)

[node name="SpwnPoint2" type="Marker2D" parent="Level"]
position = Vector2(-584, -217)

[connection signal="pressed" from="UI/ESCMenu/VBoxContainer/ContinueButton" to="UI/ESCMenu" method="_on_continue_button_pressed"]
[connection signal="pressed" from="UI/ESCMenu/VBoxContainer/LeaveButton" to="UI/ESCMenu" method="_on_leave_button_pressed"]
[connection signal="pressed" from="UI/Multiplayer/VBoxContainer/Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="UI/Multiplayer/VBoxContainer/Join" to="." method="_on_join_pressed"]
